<!DOCTYPE html>
<!--==============================================================================
	           "GitHub HTML5 Pandoc Template" v1.2 — by Tristano Ajmone
	==============================================================================
	(c) Tristano Ajmone, 2017, MIT License (MIT). Project's home repository:
	- https://github.com/tajmone/pandoc-goodies
	This template reuses source code taken from the following projects:
	- GitHub Markdown CSS: © Sindre Sorhus, MIT License (MIT):
	  https://github.com/sindresorhus/github-markdown-css
	- Primer CSS: © 2016 GitHub Inc., MIT License (MIT):
	  http://primercss.io/
	==============================================================================-->
<html lang="en">
<head>
  <meta charset="utf-8">
  <link rel="stylesheet" type="text/css" href="/akazorian.github.io/style.css">
  <link href="https://fonts.googleapis.com/css?family=Nunito+Sans" rel="stylesheet">
  <meta name="generator" content="pandoc">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <title></title>
  <style type="text/css">@font-face{font-family:octicons-link;src:url(data:font/woff;charset=utf-8;base64,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) format('woff')}.markdown-body{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;color:#24292e;font-family:-apple-system,system-ui,BlinkMacSystemFont,"Segoe UI",Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";font-size:16px;line-height:1.5;word-wrap:break-word;box-sizing:border-box;min-width:200px;max-width:980px;margin:0 auto;padding:45px}.markdown-body .octicon{display:inline-block;fill:currentColor;vertical-align:text-bottom}.markdown-body a{background-color:transparent;-webkit-text-decoration-skip:objects;color:#0366d6;text-decoration:none}.markdown-body a:active,.markdown-body a:hover{outline-width:0}.markdown-body h1{margin:.67em 0}.markdown-body img{border-style:none}.markdown-body svg:not(:root){overflow:hidden}.markdown-body code,.markdown-body kbd,.markdown-body pre{font-family:monospace,monospace}.markdown-body input{font:inherit;margin:0;overflow:visible;font-family:inherit;font-size:inherit;line-height:inherit}.markdown-body [type=checkbox]{box-sizing:border-box;padding:0}.markdown-body *{box-sizing:border-box}.markdown-body a:hover{text-decoration:underline}.markdown-body strong{font-weight:600}.markdown-body hr{box-sizing:content-box;overflow:hidden;background:0 0;border-bottom:1px solid #dfe2e5}.markdown-body hr::before{display:table;content:""}.markdown-body hr::after{display:table;clear:both;content:""}.markdown-body table{border-spacing:0;border-collapse:collapse;display:block;width:100%;overflow:auto}.markdown-body td,.markdown-body th{padding:0}.markdown-body blockquote{margin:0}.markdown-body ol ol,.markdown-body ul ol{list-style-type:lower-roman}.markdown-body ol ol ol,.markdown-body ol ul ol,.markdown-body ul ol ol,.markdown-body ul ul ol{list-style-type:lower-alpha}.markdown-body dd{margin-left:0}.markdown-body code{font-family:SFMono-Regular,Consolas,"Liberation Mono",Menlo,Courier,monospace}.markdown-body pre{font:12px SFMono-Regular,Consolas,"Liberation Mono",Menlo,Courier,monospace;word-wrap:normal}.markdown-body .pl-0{padding-left:0!important}.markdown-body .pl-1{padding-left:4px!important}.markdown-body .pl-2{padding-left:8px!important}.markdown-body .pl-3{padding-left:16px!important}.markdown-body .pl-4{padding-left:24px!important}.markdown-body .pl-5{padding-left:32px!important}.markdown-body .pl-6{padding-left:40px!important}.markdown-body::before{display:table;content:""}.markdown-body::after{display:table;clear:both;content:""}.markdown-body>:first-child{margin-top:0!important}.markdown-body>:last-child{margin-bottom:0!important}.markdown-body a:not([href]){color:inherit;text-decoration:none}.markdown-body .anchor{float:left;padding-right:4px;margin-left:-20px;line-height:1}.markdown-body .anchor:focus{outline:0}.markdown-body blockquote,.markdown-body dl,.markdown-body ol,.markdown-body p,.markdown-body pre,.markdown-body table,.markdown-body ul{margin-top:0;margin-bottom:16px}.markdown-body hr{height:.25em;padding:0;margin:24px 0;background-color:#e1e4e8;border:0}.markdown-body blockquote{padding:0 1em;color:#6a737d;border-left:.25em solid #dfe2e5}.markdown-body blockquote>:first-child{margin-top:0}.markdown-body blockquote>:last-child{margin-bottom:0}.markdown-body kbd{font-size:11px;box-shadow:inset 0 -1px 0 #959da5}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin-top:24px;margin-bottom:16px;font-weight:600;line-height:1.25}.markdown-body h1 .octicon-link,.markdown-body h2 .octicon-link,.markdown-body h3 .octicon-link,.markdown-body h4 .octicon-link,.markdown-body h5 .octicon-link,.markdown-body h6 .octicon-link{color:#1b1f23;vertical-align:middle;visibility:hidden}.markdown-body h1:hover .anchor,.markdown-body h2:hover .anchor,.markdown-body h3:hover .anchor,.markdown-body h4:hover .anchor,.markdown-body h5:hover .anchor,.markdown-body h6:hover .anchor{text-decoration:none}.markdown-body h1:hover .anchor .octicon-link,.markdown-body h2:hover .anchor .octicon-link,.markdown-body h3:hover .anchor .octicon-link,.markdown-body h4:hover .anchor .octicon-link,.markdown-body h5:hover .anchor .octicon-link,.markdown-body h6:hover .anchor .octicon-link{visibility:visible}.markdown-body h1{padding-bottom:.3em;font-size:2em;border-bottom:1px solid #eaecef}.markdown-body h2{padding-bottom:.3em;font-size:1.5em;border-bottom:1px solid #eaecef}.markdown-body h3{font-size:1.25em}.markdown-body h4{font-size:1em}.markdown-body h5{font-size:.875em}.markdown-body h6{font-size:.85em;color:#6a737d}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:0;margin-bottom:0}.markdown-body li>p{margin-top:16px}.markdown-body li+li{margin-top:.25em}.markdown-body dl{padding:0}.markdown-body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:600}.markdown-body dl dd{padding:0 16px;margin-bottom:16px}.markdown-body table th{font-weight:600}.markdown-body table td,.markdown-body table th{padding:6px 13px;border:1px solid #dfe2e5}.markdown-body table tr{background-color:#fff;border-top:1px solid #c6cbd1}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}.markdown-body img{max-width:100%;box-sizing:content-box;background-color:#fff}.markdown-body code{padding:.2em 0;margin:0;font-size:85%;background-color:rgba(27,31,35,.05);border-radius:3px}.markdown-body code::after,.markdown-body code::before{letter-spacing:-.2em;content:"\00a0"}.markdown-body pre>code{padding:0;margin:0;font-size:100%;word-break:normal;white-space:pre;background:0 0;border:0}.markdown-body .highlight{margin-bottom:16px}.markdown-body .highlight pre{margin-bottom:0;word-break:normal}.markdown-body .highlight pre,.markdown-body pre{padding:16px;overflow:auto;font-size:85%;line-height:1.45;background-color:#f6f8fa;border-radius:3px}.markdown-body pre code{display:inline;max-width:auto;padding:0;margin:0;overflow:visible;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}.markdown-body pre code::after,.markdown-body pre code::before{content:normal}.markdown-body .full-commit .btn-outline:not(:disabled):hover{color:#005cc5;border-color:#005cc5}.markdown-body kbd{display:inline-block;padding:3px 5px;font:11px SFMono-Regular,Consolas,"Liberation Mono",Menlo,Courier,monospace;line-height:10px;color:#444d56;vertical-align:middle;background-color:#fcfcfc;border:1px solid #c6cbd1;border-bottom-color:#959da5;border-radius:3px;box-shadow:inset 0 -1px 0 #959da5}.markdown-body :checked+.radio-label{position:relative;z-index:1;border-color:#0366d6}.markdown-body .task-list-item{list-style-type:none}.markdown-body .task-list-item+.task-list-item{margin-top:3px}.markdown-body .task-list-item input{margin:0 .2em .25em -1.6em;vertical-align:middle}.markdown-body hr{border-bottom-color:#eee}.flash{position:relative;padding:16px;color:#246;background-color:#e2eef9;border:1px solid #bac6d3;border-radius:3px}.flash p:last-child{margin-bottom:0}.flash-messages{margin-bottom:24px}.flash-warn{color:#4c4a42;background-color:#fff9ea;border-color:#dfd8c2}.flash-error{color:#911;background-color:#fcdede;border-color:#d2b2b2}.flash-success{color:#22662c;background-color:#e2f9e5;border-color:#bad3be}.flash-plain{color:#4c4a42;background-color:#f5f5f5;border-color:#c1c1c1}</style>
  <style type="text/css">code{white-space: pre;}</style>
  <style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
</script>
<script type="text/javascript" async
src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_CHTML">
</script>
<script>
function nav() {
   if (document.getElementById("mySidenav").style.width == "0px" || !document.getElementById("mySidenav").style.width) {
       document.getElementById("mySidenav").style.width = "25%";
       document.getElementById("main").style.marginLeft = "25%";
   } else {
       document.getElementById("mySidenav").style.width = "0";
       document.getElementById("main").style.marginLeft = "0";
   }
}
</script>
<script>
$(document).ready(function(){
    $(".openbutton").click(function(){
    if (  $( this ).css( "transform" ) == 'none' ){
        $(this).css("transform","rotate(90deg)");
    } else {
        $(this).css("transform","" );
    }
    });
})
</script>
<script>
//FIXME
$(window).on('load', function() {
    var url = window.location.href;
    $('.sidenav a').each(function() {
        if (url == $(this).href){
            $(this).addClass("active");
        } else {
            $(this).removeClass("active");
        }
    })

})
</script>
<script>
$(document).ready(function() {
    $('.sidenav a').click(function() {
        $('.sidenav a').each(function() {
            $(this).removeClass("active");
        })
        $(this).addClass("active");
    })
})
</script>
</head>
<body>
<div id="mySidenav" class="sidenav">
<ul>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#motivation">Motivation</a></li>
<li><a href="#eli5-a-primer-for-the-average-person">ELI5: A Primer For The Average Person</a></li>
<ul>
<li><a href="#what-is-a-proof">What Is A Proof?</a></li>
<li><a href="#what-is-knowledge">What Is Knowledge?</a></li>
<li><a href="#what-does-it-mean-to-gain-knowledge">What Does It Mean To Gain Knowledge?</a></li>
<li><a href="#bringing-it-all-together">Bringing It All Together</a></li>
</ul>
<li><a href="#diving-deeper-zk-snarks-for">Diving Deeper: zk-SNARKS for </a></li>
<ul>
<li><a href="#prerequisites">Prerequisites</a></li>
<ul>
<li><a href="#notation-regarding-algorithms">Notation Regarding Algorithms</a></li>
<li><a href="#negligible-functions">Negligible Functions</a></li>
<li><a href="#indistinguishability">Indistinguishability</a></li>
<li><a href="#p-and-np"><span class="smallcaps">P</span> and <span class="smallcaps">NP</span></a></li>
<li><a href="#proof-systems">Proof Systems</a></li>
</ul>
<li><a href="#adding-some-formalities">Adding Some Formalities</a></li>
<ul>
<li><a href="#non-interactive-proof-systems">Non-interactive Proof Systems</a></li>
<li><a href="#from-proof-systems-to-argument-systems">From Proof Systems to ARgument Systems</a></li>
<li><a href="#succinctness">Succinctness</a></li>
<li><a href="#zero-knowledge-and-the-simulation-paradigm">Zero-knowledge and the Simulation Paradigm</a></li>
<li><a href="#zk-snar-of-knowledge">zk-SNAR of Knowledge</a></li>
</ul>
</div>
<div id="main">
<span style="font-size:200%;cursor:pointer" onclick="nav()" class="openbutton">&#9776;</span>
<article class="markdown-body">

<h1 id="introduction">Introduction</h1>
<p>Whether or not we are in a cryptocurrency bubble is not what drives the discussion of zk-SNARKs. Yes, zcash is the currency that introduced many people to the topic of this write up; however, the effect of zk-SNARKs could be wider reaching than a cryptocurrency.<br />
<br />
This article will be broken up into three parts, each meant to explain the topic to a seperate audience. These audiences are: the average adult, an undergraduate focusing on computer science or math, and a graduate student interested in cryptography or some complexity theoritic topic or another. For all three audiences, it will be benefitial to know what zk-SNARK is an acronym of. Yeah it’s a catchy thing to say, but it is quite descriptive of an acronym. A zk-SNARK is a zero-knowledge, Succinct, Non-interactive, ARgument of Knowledge and that really is a mouthfull.</p>
<h1 id="motivation">Motivation</h1>
<p>When trying to understand a cryptographic primitive it always helps to understand why it exists. In other words, what problem does it solve? In doing so, we will have the necessary motivation to drive future research and curiosity! Let’s get to it by first introducing our main characters Alice and Bob. Picture this: our protaganists reside in a dystopian society in the near future where government surveillance runs rampant. Alice and Bob are attempting to orchestrate a rebellion right under the nose of the black suits in office. They have found a hide out to base their operation from, but need a method of proving that a member knows the secret word for getting in. Moreover, no one should be able to learn the secret word or how to find it even if a third party person was listening in.</p>
<h1 id="eli5-a-primer-for-the-average-person">ELI5: A Primer For The Average Person</h1>
<p>The above scenario is admittedly very contrived; however, the above can be reworded into the following problem: how can we prove the integrity of encrypted data? zk-SNARKS are the solution to this problem. To answer why, we first delve into understanding the notion of a proof and knowledge.</p>
<h2 id="what-is-a-proof">What Is A Proof?</h2>
<p>As humans, we prove statements every day. We do so without even considering what the definition of a proof is and so let us slow down to consider a proof of a mathematical statement. Such proofs have the following properties:</p>
<ol>
<li><p>They consist of a static sequence of statements that follow in some logical order. These statements are therefore either axioms of mathematics or are derivational rules.</p></li>
<li><p>The proof itself is at least as important as the theorem it is proving.</p></li>
</ol>
<p>Now, this type of proof would not help us in answering our question of proving integrity over encrypted data. Why? Once the proof is read out loud, it is trivially replicable and recitable. Therefore, a third party can trick us of say their identity as a fellow rebel. Looking ahead at the solution, one aspect of mathematical proofs remains. There are two parties present in such a proof system: the Prover and the Verifier.</p>
<h2 id="what-is-knowledge">What Is Knowledge?</h2>
<p>I’m no philosopher. Pass!</p>
<h2 id="what-does-it-mean-to-gain-knowledge">What Does It Mean To Gain Knowledge?</h2>
<p>Informally, one gains no knowledge from an interaction if and only if said person does not receive the proof for something that was otherwise infeasible for them to find themselves. For example, if someone told me that <span class="math inline">\(1 + 1 = 2\)</span>, then I have gained no knowledge because I can do at least that much arithmetic. If, however, someone were to show me a proof of extraterrestial life forms, then I have certainly gained some knowledge.</p>
<h2 id="bringing-it-all-together">Bringing It All Together</h2>
<p>We now possess the necessary intuition to derive an informal definition of a zk-SNARK. Recall that we know the following:</p>
<ul>
<li><p>We want to derive a protocol that can allow for proving knowledge of a secret without anyone learning the proof itself.</p></li>
<li><p>A proof requires a prover and a verifier.</p></li>
<li><p>Without receiving the proof of something I otherwise could not have proved, I have learned nothing.</p></li>
</ul>
<p>With this information, we outline the following properties necessary for a protocol that solves our problem:</p>
<ul>
<li><p><em>Zero-knowledge:</em> The verifier gains no knowledge from the prover. In effect, the verifier does not learn the prover’s proof and cannot use it later. This falls in line with our discussion regarding gaining knowledge.</p></li>
<li><p><em>Succinct:</em> The verifier does not have listen to the prover for too long of a time. This does not mean that the prover cannot think for themselves before speaking to the verifier. It simply means the prover’s response must be &quot;small&quot;.</p></li>
<li><p><em>Non-interactive:</em> The verifier and prover are not engaged in a &quot;back-and-forth&quot; conversation.</p></li>
<li><p><em>ARgument of Knowledge:</em> The prover is able to show that they have knowledge of something. In our case, it would be the secret word.</p></li>
</ul>
<h1 id="diving-deeper-zk-snarks-for">Diving Deeper: zk-SNARKS for </h1>
<p>We all ideally understand zk-SNARKs at the level of an average person, but we’ll be formalizing the above notions for those of us who remain curious. First, we have to make sure we are all brush up on some necessary background material!</p>
<h2 id="prerequisites">Prerequisites</h2>
<p><strong>Note:</strong> I will be assuming knowledge of <a href="https://en.wikipedia.org/wiki/Asymptotic_analysis">asymptotic analysis</a> and the level of mathematical maturity after having taken a discrete mathematics course.</p>
<h3 id="notation-regarding-algorithms">Notation Regarding Algorithms</h3>
<p>We later define our prover and verifier in terms of an algorithm and so we need to introduce some notation. An algorithm is said to accept its input if it outputs one after halting. On the other hand, if an algorithm outputs 0, then we say it rejected its input.</p>
<h3 id="negligible-functions">Negligible Functions</h3>
<p>A negligible function is something that is thrown around <em>all the time</em> in the cryptographic literature. It is absolutely essential to know what functions are negligible. We should all be asking why are negligible functions used so often? The answer lies in the necessity to capture the notion of certain events being so unlikely that we need not consider them. Such events include breaking the security of algorithms which we discuss in the section regarding indistinguishability.<br />
<br />
An intuitive explanation of an event being unlikely is something like a function being exponentially small. In other words a function is small if it grows slower than <em>every</em> polynomial function. This is a definition that we decided on because it satisfies our needs.<br />
<br />
<strong>Definition:</strong> <em>A function <span class="math inline">\(\mu\)</span> is negligible if and only if <span class="math inline">\(\forall{c} \in {\mathbf N}\)</span>, <span class="math inline">\(\exists n_0 \in {\mathbf N}\)</span> such that <span class="math inline">\(\forall n \geq n_0\)</span> it is the case that <span class="math inline">\(\mu(n) &lt; n^{-c}\)</span>.</em></p>
<h3 id="indistinguishability">Indistinguishability</h3>
<p>Cryptography would be useless if we cannot guarantee the security of our primitives when under attack by adversaries. Most cryptographic primitives (if not all) are randomized algorithms. In effect, they are allowed to flip some number of coins during their execution. Because our primitives are randomized algorithms, they output a random variable with some distribution. Ideally, this random variable would distributed uniformally.<br />
<br />
<strong><em><span style="color: red">Sanity Check:</span></em></strong> Why would we want the distribution of the random variable outputted by some cryptographic primitive to be distributed uniformally?<br />
<br />
There are three notions of indistinguishability and they are in order of decreasing strength: perfect, statistical, and computational.<br />
<br />
<strong>Definition:</strong> <em>A random variable <span class="math inline">\(X\)</span> is perfectly indistinguishable from the uniform distribution <span class="math inline">\(U\)</span> if the distribution of <span class="math inline">\(X\)</span> is equivalent to <span class="math inline">\(U\)</span>. The notation used for this is <span class="math inline">\(X \equiv U\)</span> or <span class="math inline">\(X \stackrel{p}{=} U\)</span>.</em><br />
<br />
<strong>Definition:</strong> <em>A random variable <span class="math inline">\(X\)</span> is statistically indistinguishable from the uniform distribution <span class="math inline">\(U\)</span> if the <a href="https://en.wikipedia.org/wiki/Total_variation_distance_of_probability_measures">total variation distance between</a> <span class="math inline">\(X\)</span> and <span class="math inline">\(U\)</span> is negligible. Intuitivally, this is an information theoretic argument saying that there does not exist a function or algorithm that can pull these two distributions any further apart. The notation used for this is <span class="math inline">\(X \stackrel{\Delta}{=}U\)</span>.</em><br />
<br />
<strong>Definition:</strong> <em>A random variable <span class="math inline">\(X\)</span> is computationally indistinguishable from the uniform distribution <span class="math inline">\(U\)</span> if for every probabilistic polynomial time algorithm <span class="math inline">\(A\)</span> and for all security parameter <span class="math inline">\(k \in {\mathbf N}\)</span>:</em> <span class="math display">\[\bigg\lvert \Pr[D(X) = 1] - \Pr[D(U) = 1]\bigg\rvert = \text{ negl}(k)\]</span> <em>The notation used for this is <span class="math inline">\(X \stackrel{c}{=}U\)</span>.</em></p>
<h3 id="p-and-np"><span class="smallcaps">P</span> and <span class="smallcaps">NP</span></h3>
<p><strong>Definition:</strong> <em>The complexity class <span class="smallcaps">P</span> is the set of all problems <span class="math inline">\(\mathcal{P}\)</span> that can be solved in polynomial time.</em><br />
<br />
<strong>Definition:</strong> <em>The complexity class <span class="smallcaps">NP</span> is the set of all problems <span class="math inline">\(\mathcal{P}\)</span> that can be verified in polynomial time when given a potential solution <span class="math inline">\(\pi\)</span> to an instance of the problem <span class="math inline">\(x\)</span>. Here <span class="math inline">\(\pi\)</span> acts as a proof of sorts for the membership of <span class="math inline">\(x\)</span> in the set of inputs with a solution for <span class="math inline">\(\mathcal{P}\)</span>.</em><br />
<br />
<em>Remark:</em> Given these defintions, we know that <span class="smallcaps">P</span> <span class="math inline">\(\subseteq\)</span> <span class="smallcaps">NP</span>. Why is this the case? If we could find the solution to a problem, then of course we could verify the validity of any solution to said problem! However, the literal million dollar question is does <a href="https://en.wikipedia.org/wiki/P_versus_NP_problem"><span class="smallcaps">P</span> <span class="math inline">\(=\)</span> <span class="smallcaps">NP</span>?</a></p>
<h3 id="proof-systems">Proof Systems</h3>
<p>Recall that a proof involves a prover and a verifier. Therefore, we have the following definition of a a proof system:<br />
<br />
<strong>Definition:</strong> <em>A proof system is a pair of algorithms <span class="math inline">\((P, V)\)</span> for a problem <span class="math inline">\(\mathcal{P}\)</span> such that below properties are satisfied:</em></p>
<ol>
<li><p><em>Efficiency: The verifier must run in polynomial time and is allowed access to some randomness.</em></p></li>
<li><p><em>Completeness: If the prover has a correct proof for the validity of a statement related to an instance of the problem <span class="math inline">\(\mathcal{P}\)</span>, then the verifier must be convinced:</em> <span class="math display">\[\Pr\bigg[V(x, \pi) = 1 \bigg\vert \pi = P(x)\bigg] \geq \frac{2}{3}\]</span></p></li>
<li><p><em>Soundness: The verifier cannot be tricked by any prover <span class="math inline">\(P^*\)</span> into believing statements about instances to the problem with no valid solution:</em> <span class="math display">\[\Pr\bigg[V(x, \pi) = 1 \bigg\vert \pi = P^*(x)\bigg] \leq \frac{1}{3}\]</span></p></li>
</ol>
<p><em>Remark:</em> We allow the verifier to fail with a probability of a third for completeness because we repeat the protocol for any proof system to drive down the probability of failure. A similar argument can be made for the error probability of the soundness property.<br />
<br />
</p>
<h2 id="adding-some-formalities">Adding Some Formalities</h2>
<p>We are not too far from being able to have some formality when discussing the definition of a zk-SNARK. At this point, we only really have a basic proof system. We’re missing quite a bit from our zk-SNARK acronym so let us dive right in!</p>
<h3 id="non-interactive-proof-systems">Non-interactive Proof Systems</h3>
<p>Because I don’t expect everyone to know what an interactive proof system is, the above definition for a proof system suffices for the level of understanding we are going for with zk-SNARKs in this section. Do note that the above definition is missing a detail that will be touched on extensively in the last section of this write up.</p>
<h3 id="from-proof-systems-to-argument-systems">From Proof Systems to ARgument Systems</h3>
<p>Looking back at our property for efficiency of a proof system, its clear that I did not specify any requirements for the prover. This is because in many proof systems, we do not care about how long it takes for the prover to come up with the a proof. In real life, all I care about is if I am convinced. Yes, this is quite selfish but such is life. Instead, we want an efficient verification process; therefore, the majority of the work falls on the shoulders of the prover in a proof system. A prover is computationally unbounded often times for this very reason. Now, this is interesting. There is a clear discrepancy between the amount of work expected of the prover and the amount of work expected of the verifier, but this imbalance in power or efficiency should remind us of something––<span class="smallcaps">NP</span>! The complexity class <span class="smallcaps">NP</span> can be thought of a class for problems with a proof system.<br />
<br />
<strong><em><span style="color: red">Sanity Check:</span></em></strong> Can you define the complexity class <span class="smallcaps">NP</span> in terms of a proof system? Don’t be afraid to redefine soundness and completeness to satisfy <em>your</em> needs. This is math and as mathematicians, we are the wizards!<br />
<br />
This is all great, but do we really have unlimited time for provers. Say you are able to verify something quickly. If the prover cannot supply me with a proof to verify before life on Earth ends, then what good is our proof system. There are reasons to consider proof systems for which the prover is computationally unbounded; however, we can relax our definition of a proof system by requiring that the prover is computationally bounded. One might ask: &quot;how is this a relaxation of the problem?&quot; Well our definition will now account for a set of provers that is less powerful. Therefore, possibly malicious provers are also less powerful and the above properties are easier to satisfy. We refer to this &quot;relaxed&quot; definition as a Computationally Sound Non-interactive Proof or a Non-interactive ARgument. Woohoo, we have NAR!</p>
<h3 id="succinctness">Succinctness</h3>
<p>The proofs the verifier receives should ideally be small. Why? A smaller proof that satisfies the above conditions for a NAR can only improve the efficiency of the verifier. So the question to ask is more along the lines of why wouldn’t we want this? More formally, we add the following property to our NAR:</p>
<p>5. <em>Succinctness: The size of the proof is polynomial in the size of the problem instance. In other words, for an instance <span class="math inline">\(x\)</span> of problem <span class="math inline">\(\mathcal{P}\)</span>, <span class="math inline">\(\pi = p(\lvert x \rvert)\)</span> for some polynomial <span class="math inline">\(p\)</span> where <span class="math inline">\(\pi\)</span> is the output of <span class="math inline">\(P(x)\)</span>.</em><br />
<br />
The scoreboard has us at SNAR. What’s left?</p>
<h3 id="zero-knowledge-and-the-simulation-paradigm">Zero-knowledge and the Simulation Paradigm</h3>
<p>Previously, we defined the property of zero-knowledge to be such that &quot;the verifier does not learn the prover’s proof and cannot use it later&quot;. We have some new tools in our tool belt and we will use them to formulate a definition that satisfies <em>our</em> needs. First, what does it mean to &quot;learn&quot; a proof? I argue that this means the verifier is able to replicate the proof for any input with a satisfying solution to the problem our proof system is defined under. How can we guarantee this cannot happen?<br />
<br />
In a non-interactive proof system, the verifier sees only the proof <span class="math inline">\(\pi\)</span> and the input <span class="math inline">\(x\)</span>. If the verifier learns nothing outside of these two from the protocol, then there is no way the verifier could have learned the proof. To formalize this notion, we introduce the idea of a simulator. A simulator <span class="math inline">\(S\)</span> is an algorithm that outputs a random variable. Because the output of the protocol between the prover and verifier is a random variable as well, we want the distribution of these random variables to be indistinguishable. The level of indistinguishability can vary meaning that our proof system can have perfect, statistical, or computational zero-knowledge. More formally,<br />
<br />
<strong>Definition:</strong> <em>A proof system <span class="math inline">\((P, V)\)</span> for a problem <span class="math inline">\(\mathcal{P}\)</span> is zero-knowledge if there exists a probabilistic polynomial time simulator <span class="math inline">\(S\)</span> such that for all <span class="math inline">\(x\)</span> with solutions to <span class="math inline">\(\mathcal{P}\)</span>,</em> <span class="math display">\[\{x, P(x)\} \stackrel{p/\Delta/c}{=} S(x)\]</span><br />
<strong><em><span style="color: red">Sanity Check: </span></em></strong>I heavily relied on notational macros to shorten the definition. Rewrite the definition for the three different notions of zero-knowledge more explicitly. Once you have done this, we now have zk-SNARs. One more letter...</p>
<h3 id="zk-snar-of-knowledge">zk-SNAR of Knowledge</h3>
<p>Thus far, we have discussed proof systems for which a prover can prove whether or not a statement is true. Just as a reminder, the statements are asked by the verifier and are of the form &quot;does <span class="math inline">\(x\)</span> have a solution to the problem <span class="math inline">\(\mathcal{P}\)</span>&quot;. Therefore, with our current definitions, we can answer the question &quot;is <span class="math inline">\(x\)</span> the secret word for entrance?&quot; Really we want someone to prove why <span class="math inline">\(x\)</span> is the secret word for entrance. This is the idea behind a proof of knowledge.<br />
<br />
Now, we need to formulaize this notion of the prover &quot;knowing a secret&quot;. Recall that the zero-knowledge property of the proof system we are working with is such that the prover is not going to just reveal their proofs of <em>anything</em>. However, if a prover knows something, then we should be able to extract it. More formally,<br />
<br />
<strong>Definition:</strong> <em>A proof system <span class="math inline">\((P, V)\)</span> is a proof of knowledge if there exists a probabistic polynomial time extractor E such that for all provers <span class="math inline">\(P^*\)</span> and for all <span class="math inline">\(k \in {\mathbf N}\)</span> the following property of Extractability holds,</em> <span class="math display">\[\Pr\bigg[\begin{array}{c} (x, \pi) \leftarrow P^*(z) \\ V(x, \pi) = 1\end{array} \wedge \begin{array}{c} (x, w) \leftarrow E^{P^*}(z) \\ w \text{ is not a solution for } x \text{ under problem } \mathcal{P}\end{array}\bigg]\]</span><br />
<em>Remark:</em> Here the proof <span class="math inline">\(\pi\)</span> is a proof of the statement &quot;<span class="math inline">\(w\)</span> is a solution to <span class="math inline">\(x\)</span> for problem <span class="math inline">\(\mathcal{P}\)</span>. Moreover, the funky notation for <span class="math inline">\(E^{P^*}\)</span> is saying that <span class="math inline">\(E\)</span> has &quot;oracle&quot; access to <span class="math inline">\(P^*\)</span>. This means that <span class="math inline">\(E\)</span> can makes function calls to <span class="math inline">\(P^*\)</span>.<br />
<br />
<span class="math inline">\(&lt;\)</span>Wipes sweat from forehead<span class="math inline">\(&gt;\)</span> There. zk-SNARKs. Done.</p>

</article>
</div>
</body>
</html>