%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\documentclass{article}
\usepackage{amssymb, amsmath, graphicx, enumerate, mathtools, listings, algorithm, algpseudocode}

\setlength{\oddsidemargin}{.25in}
\setlength{\evensidemargin}{.25in}
\setlength{\textwidth}{6in}
\setlength{\topmargin}{-0.4in}
\setlength{\textheight}{8.5in}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% PACKAGES
%
\usepackage{fullpage}
\usepackage[pdftex]{hyperref}
\usepackage{amsthm}
\usepackage[draft]{todonotes}
\usepackage{times}
\usepackage{comment}
\usepackage{xspace}
\usepackage{paralist}
\usepackage{enumitem}
  \setlist[itemize]{leftmargin=*}
  \setlist[enumerate]{leftmargin=*}
\usepackage{makecell}
\usepackage{tikz}
	\usetikzlibrary{matrix,shapes,arrows,positioning,chains,calc}
\usepackage{hypcap}
\usepackage{mleftright}
\usepackage{bbm}
\usepackage{colortbl}
\usepackage{tabu}
\usepackage{multirow}
\usepackage{mathrsfs}
\usepackage{adjustbox}
\usepackage{microtype}
\usepackage{etoolbox}
\usepackage{breakcites}
\usepackage{booktabs}
\usepackage[framemethod=tikz]{mdframed}
\usepackage{soul}
\usepackage[small,margin=2mm]{caption}
\usepackage{subcaption}
\usepackage{float}
\usepackage{iitem}
\usepackage{scalerel}
\usepackage{rotating}
\usepackage{verbatimbox}
\usepackage{complexity}
\usepackage{mathtools}
\usepackage{braket}
\usepackage{relsize}
\usepackage{extarrows}
\usepackage{graphicx}
\usepackage{csquotes}
\usepackage{hyperref}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% THEOREM ENVIRONMENTS
\newtheorem{theorem}{Theorem}%[section]
\newtheorem{corollary}{Corollary}[section]
\newtheorem{proposition}[corollary]{Proposition}
\newtheorem{definition}[corollary]{Definition}
\newtheorem{lemma}[corollary]{Lemma}
\newtheorem{claim}[corollary]{Claim}
\newtheorem{observation}[corollary]{Observation}
\newtheorem{notation}[corollary]{Notation}
\newtheorem{fact}[corollary]{Fact}
\newtheorem{assumption}[corollary]{Assumption}
\newtheorem{conjecture}[corollary]{Conjecture}
\newtheorem{goal}[corollary]{Goal}
\newtheorem{remark}[corollary]{Remark}
\newtheorem{question}[corollary]{Question}
\newtheorem{problem}[corollary]{Problem}
\newtheorem{challenge}[corollary]{Challenge}
\newtheorem{example}[corollary]{Example}
\newtheorem{exercise}[corollary]{Exercise}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% MACROS

%-----------------------------------------------------------------------------
% Special-purpose color definitions (dark enough to print OK in black and white)
\usepackage{color}

% A few colors to replace the defaults for certain link types
\definecolor{orange}{cmyk}{0,0.4,0.8,0.2}
\definecolor{darkorange}{rgb}{.71,0.21,0.01}
\definecolor{darkgreen}{rgb}{.12,.54,.11}

%-----------------------------------------------------------------------------
% The hyperref package gives us a pdf with properly built
% internal navigation ('pdf bookmarks' for the table of contents,
% internal cross-reference links, web links for URLs, etc.)

\hypersetup{  % needed for pdflatex
  breaklinks=true,  % so long urls are correctly broken across lines
  colorlinks=true,
  urlcolor=blue,
  linkcolor=darkorange,
  citecolor=darkgreen,
}

%-----------------------------------------------------------------------------
\newcommand{\N}{{\mathbf N}}
\newcommand{\Z}{{\mathbf Z}}
\newcommand{\F}{{\mathbf F}}
\newcommand{\Q}{{\mathbf Q}}
\newcommand{\Time}{\operatorname{time}}
\newcommand{\negl}{\mathsf{negl}}
\newcommand{\ci}{\stackrel{c}{=}}
\newcommand{\io}{i\mathcal{O}}

\mdfsetup{
    roundcorner=10pt,
    frametitlebackgroundcolor=cyan!15!green!15,
    backgroundcolor=cyan!15!green!15,
    hidealllines=true,
    skipabove=12pt,
    skipbelow=6pt,
    leftmargin=0pt
    rightmargin=0pt,
    innertopmargin=-4pt,
    innerbottommargin=8pt,
    innerleftmargin=12pt,
    % innerrightmargin=12pt,
    % frametitleaboveskip=6pt,
    % frametitlebelowskip=4pt,
    % frametitlerule=true,
    % frametitlefont=\normalfont\itshape,
    splittopskip=2\topsep
}

\pagenumbering{gobble}
\title{zk-SNARKs}
\author{Alex Kazorian}
\date{\today}
\graphicspath{ {images/} }

\begin{document}
\maketitle
\section{Introduction}
Whether or not we are in a cryptocurrency bubble is not what drives the discussion of zk-SNARKs. Yes, zcash is the currency that introduced many people to the topic of this write up; however, the effect of zk-SNARKs could be wider reaching than a cryptocurrency. \\ \\
\noindent This article will be broken up into three parts, each meant to explain the topic to a seperate audience. These audiences are: the average adult, an undergraduate focusing on computer science or math, and a graduate student interested in cryptography or some complexity theoritic topic or another. For all three audiences, it will be benefitial to know what zk-SNARK is an acronym of. Yeah it's a catchy thing to say, but it is quite descriptive of an acronym. A zk-SNARK is a zero-knowledge, Succinct, Non-interactive, ARgument of Knowledge and that really is a mouthfull.

\section{Motivation}
When trying to understand a cryptographic primitive it always helps to understand why it exists. In other words, what problem does it solve? In doing so, we will have the necessary motivation to drive future research and curiosity! Let's get to it by first introducing our main characters Alice and Bob. Picture this: our protaganists reside in a dystopian society in the near future where government surveillance runs rampant. Alice and Bob are attempting to orchestrate a rebellion right under the nose of the black suits in office. They have found a hide out to base their operation from, but need a method of proving that a member knows the secret word for getting in. Moreover, no one should be able to learn the secret word or how to find it even if a third party person was listening in.
\section{ELI5: A Primer For The Average Person}
The above scenario is admittedly very contrived; however, the above can be reworded into the following problem: how can we prove the integrity of encrypted data? zk-SNARKS are the solution to this problem. To answer why, we first delve into understanding the notion of a proof and knowledge.
\subsection{What Is A Proof?}
As humans, we prove statements every day. We do so without even considering what the definition of a proof is and so let us slow down to consider a proof of a mathematical statement. Such proofs have the following properties:
\begin{enumerate}
    \item They consist of a static sequence of statements that follow in some logical order. These statements are therefore either axioms of mathematics or are derivational rules.
    \item The proof itself is at least as important as the theorem it is proving.
\end{enumerate}
Now, this type of proof would not help us in answering our question of proving integrity over encrypted data. Why? Once the proof is read out loud, it is trivially replicable and recitable. Therefore, a third party can trick us of say their identity as a fellow rebel. Looking ahead at the solution, one aspect of mathematical proofs remains. There are two parties present in such a proof system: the Prover and the Verifier.
\subsection{What Is Knowledge?}
I'm no philosopher. Pass!
\subsection{What Does It Mean To Gain Knowledge?}
Informally, one gains no knowledge from an interaction if and only if said person does not receive the proof for something that was otherwise infeasible for them to find themselves. For example, if someone told me that $1 + 1 = 2$, then I have gained no knowledge because I can do at least that much arithmetic. If, however, someone were to show me a proof of extraterrestial life forms, then I have certainly gained some knowledge.
\subsection{Bringing It All Together}
We now possess the necessary intuition to derive an informal definition of a zk-SNARK. Recall that we know the following:
\begin{itemize}
    \item We want to derive a protocol that can allow for proving knowledge of a secret without anyone learning the proof itself.
    \item A proof requires a prover and a verifier.
    \item Without receiving the proof of something I otherwise could not have proved, I have learned nothing.
\end{itemize}
With this information, we outline the following properties necessary for a protocol that solves our problem:
\begin{itemize}
    \item \textit{Zero-knowledge:} The verifier gains no knowledge from the prover. In effect, the verifier does not learn the prover's proof and cannot use it later. This falls in line with our discussion regarding gaining knowledge.
    \item \textit{Succinct:} The verifier does not have listen to the prover for too long of a time. This does not mean that the prover cannot think for themselves before speaking to the verifier. It simply means the prover's response must be "small".
    \item \textit{Non-interactive:} The verifier and prover are not engaged in a "back-and-forth" conversation.
    \item \textit{ARgument of Knowledge:} The prover is able to show that they have knowledge of something. In our case, it would be the secret word.
\end{itemize}

\section{Diving Deeper: zk-SNARKS for }
We all ideally understand zk-SNARKs at the level of an average person, but we'll be formalizing the above notions for those of us who remain curious. First, we have to make sure we are all brush up on some necessary background material!
\subsection{Prerequisites}
\textbf{Note:} I will be assuming knowledge of \href{https://en.wikipedia.org/wiki/Asymptotic_analysis}{asymptotic analysis} and the level of mathematical maturity after having taken a discrete mathematics course.
\subsection{\textsc{P} and \textsc{NP}}
\textbf{Definition:} \textit{The complexity class \textsc{P} is the set of all problems $\mathcal{L}$ that can be solved in polynomial time.} \\ \\
\textbf{Definition:} \textit{The complexity class \textsc{NP} is the set of all problems $\mathcal{L}$ that can be verified in polynomial time when given a potential solution $\pi$ to an instance of the problem $x$. Here $\pi$ acts as a proof of sorts for the membership of $x$ in the set of inputs with a solution for $\mathcal{L}$.} \\ \\
\noindent \textit{Remark:} Given these defintions, we know that \textsc{P} $\subseteq$ \textsc{NP}. Why is this the case? If we could find the solution to a problem, then of course we could verify the validity of any solution to said problem!
\subsection{Non-Interactive Proof Systems}
Recall that a proof involves a prover and a verifier. Therefore, we have the following definition of a a proof system: \\ \\
\textbf{Definition:} \textit{A proof system is a pair of algorithms $(P, V)$ for a problem $\mathcal{L}$ such that below properties are satisfied:}
    \begin{enumerate}
        \item \textit{Efficiency: The verifier must run in polynomial time and is allowed access to some randomness.}
        \item \textit{Completeness: If the prover has a correct proof for the validity of a statement related to an instance of the problem $\mathcal{L}$, then the verifier must be convinced:}
        $$\Pr\biggr[V(x, \pi) = 1 \biggr\vert \pi = P(x)\biggr] \geq \frac{2}{3}$$
        \item \textit{Soundness: The verifier cannot be tricked by any prover $P^*$ into believing statements about instances to the problem with no valid solution:}
        $$\Pr\biggr[V(x, \pi) = 1 \biggr\vert \pi = P^*(x)\biggr] \leq \frac{1}{3}$$
    \end{enumerate}
\noindent \textit{Remark:} We allow the verifier to fail with a probability of a third for completeness because we repeat the protocol for any proof system to drive down the probability of failure. A similar argument can be made for the error probability of the soundness property.
\end{document}
